<!DOCTYPE html><html lang="pt-BR"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1, user-scalable=no"><title>Voleyzada - GT v1.1.2</title><style>#loading,.container,.teams{display:flex}.container{margin-left:10px}.item{flex-grow:1}body{color:rgba(0,0,0,.87);margin:0;font-size:.875rem;font-family:Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em;background-color:#fafafa}#clickLabel{font-style:italic;font-size:.9em}#playerRank{width:100%;border-collapse:collapse}#playerRank td,th{border:1px solid #000}#playerRank thead td{background-color:#96ebff}.gamesPlayer{width:40px;background-color:#eee;text-align:center}.renamePlayer{width:110px}#playersQtt{float:right;margin-top:6px}#loading{width:100%;height:100%;background:rgba(0,0,0,.8);position:absolute;z-index:1;font-size:3em;color:#fff;justify-content:center;align-items:center} </style></head><body><div id="loading" style="display:none"></div><h1 style="margin:0 10px">Voleyzada - Gerador de Times v1.1.2</h1><hr style="margin-bottom: 20px"/><div class="container"><div class="item" style="padding:0.5%;margin-right: 4%;min-height:200px;border:1px solid #000"><select id="formation"><option value="6x6" selected="">6x6</option><option value="6x5">6x5</option><option value="5x5">5x5</option><option value="5x4">5x4</option><option value="4x4">4x4</option><option value="4x3">4x3</option><option value="3x3">3x3</option></select><button id="buildRandomTeams" style="margin-bottom:5px">Gerar Times</button><hr/><span id="clickLabel">Clique para adicionar jogadores</span><table id="playerRank" style="display:none"class="sortable sortabs"><thead><tr><td class="tdhead" style="text-align:left;!important">Nome</td><td class="tdhead">Fora</td><td class="tdhead">Fixo</td><td id="dummy2" class="tdhead" onclick="__sortTable(3)">Jogos</td><td class="tdhead"></td></tr></thead><tbody></tbody></table><button id="addPlayer" style="margin:10px 0 0 3px">+ Jogador</button><span id="playersQtt" style="display:none">( 0 )</span></div><div class="item" style="flex:1 80%;padding-top:0.5%"><button id="acceptTeams" style="margin-bottom:5px">Aceitar Sugestão?</button><h2>Time 1:</h2><ul id="team1"></ul><h2>Time 2:</h2><ul id="team2"></ul><hr/><h3>Ficam de fora:</h3><ul id="outs"></ul></div></div><script>var MYAPP=MYAPP||{};const space_ids=["A1","A2","A3","A4","A5","A6","A7","A8","A9","B1","B2","B3","B4","B5","B6","B7","B8","B9","C1","C2","C3","C4","C5","C6","C7","C8","C9","D1","D2","D3","D4","D5","D6","D7","D8","D9","E1","E2","E3","E4","E5","E6","E7","E8","E9","F1","F2","F3","F4","F5","F6","F7","F8","F9","G1","G2","G3","G4","G5","G6","G7","G8","G9","H1","H2","H3","H4","H5","H6","H7","H8","H9","I1","I2","I3","I4","I5","I6","I7","I8","I9","J1","J2","J3","J4","J5","J6","J7","J8","J9","K1","K2","K3","K4","K5","K6","K7","K8","K9","L1","L2","L3","L4","L5","L6","L7","L8","L9","M1","M2","M3","M4","M5","M6","M7","M8","M9","N1","N2","N3"];var playersListState=[];function __sortTable(e){let t,n,l,a,o,d,c;for(t=document.getElementById("playerRank"),l=!0;l;){for(l=!1,n=t.rows,a=1;a<n.length-1;a++)if(c=!1,o=n[a].getElementsByTagName("td")[e],d=n[a+1].getElementsByTagName("td")[e],parseInt(o.innerHTML)<parseInt(d.innerHTML)){c=!0;break}c&&(n[a].parentNode.insertBefore(n[a+1],n[a]),l=!0)}}function checkClickLabelMessage(){playersListState.length>0?(document.getElementById("playerRank").style.display="block",document.getElementById("clickLabel").style.display="none",document.getElementById("playersQtt").innerHTML=`( ${playersListState.length} )`,document.getElementById("playersQtt").style.display="block"):(document.getElementById("playerRank").style.display="none",document.getElementById("playersQtt").style.display="block",document.getElementById("clickLabel").style.display="block")}function __removePlayerState(e){const t=playersListState.findIndex((t=>t.id===e));-1!==t&&playersListState.splice(t,1)}function __getPlayerState(e,t){return playersListState[playersListState.findIndex((t=>t.id===e))][t]}function __setPlayerState(e,t,n,l=!1){playersListState[playersListState.findIndex((t=>t.id===e))][t]=n}async function toggleLoading(e=""){"none"===document.getElementById("loading").style.display?(document.getElementById("loading").innerHTML=e,document.getElementById("loading").removeAttribute("style")):document.getElementById("loading").style.display="none",await sleep(2e3)}MYAPP.init=function(){},document.getElementById("acceptTeams").addEventListener("click",(async function(e){e.preventDefault(),await toggleLoading("Atualizando ranking..."),document.querySelectorAll("li.playing").forEach((function(e){const t=e.id.split("-")[0];let n=__getPlayerState(t,"games")+1;__setPlayerState(t,"games",n),document.querySelector(`#${t} td.gamesPlayer`).innerHTML=n})),document.getElementById("dummy2").click(),document.querySelectorAll("input[type=checkbox]").forEach((e=>{e.checked=!1})),await toggleLoading()})),document.getElementById("buildRandomTeams").addEventListener("click",(async function(e){e.preventDefault(),document.getElementById("team1").replaceChildren(),document.getElementById("team2").replaceChildren(),document.getElementById("outs").replaceChildren();let t=document.getElementById("formation").selectedOptions[0].value.split("x"),n=parseInt(t[0])+parseInt(t[1]);if(playersListState.length<n)return void alert(`Para esta formação, número mínimo de jogadores: ${n}`);await toggleLoading("Combinando pessoas...");let l=[],a=[];document.querySelectorAll("input[name^=will]:checked").forEach((function(e){l.push(e.value)})),document.querySelectorAll("input[name^=wont]:checked").forEach((function(e){a.push(e.value)}));let o=[],d=[],c=[];for(;;){let e=[],n=Array.from(playersListState.map((e=>e.id)));for(let t=0;t<n.length;t++)a.includes(n[t])||e.push(n[t]);for(let t=0;t<20;t++)e=e.sort((()=>.5-Math.random()));o=e.splice(0,t[0]);for(let t=0;t<20;t++)e=e.sort((()=>.5-Math.random()));if(d=e.splice(0,t[1]),c=[...e,...a],0==l.length)break;if(0==c.filter((e=>l.includes(e))).length)break}const i=document.getElementById("team1"),s=document.getElementById("team2"),r=document.getElementById("outs");o.forEach(((e,t)=>{const n=document.createElement("li");n.id=`${e}-playing`,n.className="playing",n.textContent=__getPlayerState(e,"name"),i.appendChild(n)})),d.forEach(((e,t)=>{const n=document.createElement("li");n.id=`${e}-playing`,n.className="playing",n.textContent=__getPlayerState(e,"name"),s.appendChild(n)})),c.forEach(((e,t)=>{const n=document.createElement("li");n.textContent=__getPlayerState(e,"name"),r.appendChild(n)})),await toggleLoading()})),document.getElementById("addPlayer").addEventListener("click",(function(e){e.preventDefault();const t=space_ids.splice(0,1)[0];playersListState.push({id:t,name:"$",games:0}),checkClickLabelMessage();const n=document.getElementById("playerRank").getElementsByTagName("tbody")[0];let l=n.insertRow(n.rows.length);l.id=t,l.innerHTML=`\n\t\t  <td><input class="renamePlayer" type="text" /></td>\n\t\t  <td><input type="checkbox" name="wontPlayNext[]" value="${t}"></td>\n\t\t  <td><input type="checkbox" name="willPlayNext[]" value="${t}"></td>\n\t\t  <td class="gamesPlayer">0</td>\n\t\t  <td><button class="removePlayer">Remover</button></td>\n\t\t`;let a=document.querySelectorAll(".removePlayer");for(let e=0;e<a.length;e++)a[e].addEventListener("click",(function(e){const t=this.closest("tr");__removePlayerState(t.id),t&&t.remove(),checkClickLabelMessage()}));let o=document.querySelectorAll(".renamePlayer");for(let e=0;e<o.length;e++)o[e].addEventListener("focusout",(function(e){__setPlayerState(this.closest("tr").id,"name",e.target.value)}))}));const sleep=e=>new Promise((t=>setTimeout(t,e)));document.addEventListener("DOMContentLoaded",(function(e){MYAPP.init()}));</script></body>
</html>
