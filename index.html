<!doctypehtml><html lang=pt-BR><meta charset=utf-8><meta content="width=device-width,initial-scale=1,user-scalable=no"name=viewport><title>Voleyzada - GT</title><style>#loading,.container,.teams{display:flex}.container{margin-left:10px}.item{flex-grow:1}body{color:rgba(0,0,0,.87);margin:0;font-size:.875rem;font-family:Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em;background-color:#fafafa}#clickLabel{font-style:italic;font-size:.9em;display:block}#playerRank{width:100%;table-layout:fixed;overflow-wrap:break-word;display:table;border-collapse:collapse}.renamePlayer{width:95%}#playerRank td,th{border:1px solid #000}#playerRank thead td{background-color:#96ebff}.gamesPlayer{width:40px;background-color:#eee;text-align:center}.tdhead{text-align:center}#playersQtt{float:right;font-weight:700;margin-right:2em}#loading{width:100%;height:100%;background:rgba(0,0,0,.8);position:absolute;z-index:1;font-size:3em;color:#fff;justify-content:center;align-items:center}#resetList{background-color:#c91919;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1em;float:right}</style><div style=display:none id=loading></div><h1 style="margin:0 10px;font-size:22px">Voleyzada - Gerador de Times v1.1.5</h1><hr style=margin-bottom:20px><div class=container><div class=item style="flex:1;padding:.5%;border:1px solid #000"><select id=formation><option value=6x6 selected>6x6<option value=6x5>6x5<option value=5x5>5x5<option value=5x4>5x4<option value=4x4>4x4<option value=4x3>4x3<option value=3x3>3x3</select> <button id=buildRandomTeams style="margin:0 0 5px 5px">Gerar Times</button> <button id=acceptTeams style=margin-bottom:5px>Aceitar Sugestão?</button> <button id=resetList style=margin-bottom:5px>Reset List</button> <span id=playersQtt style=display:none>( 0 )</span><hr><span id=clickLabel>Clique para adicionar jogadores</span><table class="sortable sortabs"id=playerRank style=display:none><thead><tr><td class=tdhead style=text-align:left>Nome<td class=tdhead width=40>Fora<td class=tdhead width=40>Fixo<td class=tdhead width=80 id=dummy2 onclick=__sortTable(3)>Jogos<td class=tdhead width=70><tbody></table><button id=addPlayer style="margin:10px 0 0 3px">+ Jogador</button></div></div><div class=container style=display:none id=raffTeams><div class=item><h2>Time 1:</h2><ul id=team1></ul></div><div class=item style="flex:1 50%;padding-top:.5%"><h2>Time 2:</h2><ul id=team2></ul></div></div><hr><div class=container style=display:none id=raffOuts><div class=item style=flex:1;padding-top:.5%><h3>Ficam de fora:</h3><ul id=outs></ul></div></div><script>var MYAPP=MYAPP||{},playersListState=[];function __sortTable(e){let t,n,l,a,o,r,s;for(t=document.getElementById("playerRank"),l=!0;l;){for(l=!1,n=t.rows,a=1;a<n.length-1;a++)if(s=!1,o=n[a].getElementsByTagName("td")[e],r=n[a+1].getElementsByTagName("td")[e],parseInt(o.innerHTML)<parseInt(r.innerHTML)){s=!0;break}s&&(n[a].parentNode.insertBefore(n[a+1],n[a]),l=!0)}}function checkClickLabelMessage(){playersListState.length>0?(document.getElementById("playerRank").removeAttribute("style"),document.getElementById("clickLabel").style.display="none",document.getElementById("playersQtt").innerHTML=`( ${playersListState.length} )`,document.getElementById("playersQtt").style.display="block"):(document.getElementById("playerRank").style.display="none",document.getElementById("playersQtt").style.display="none",document.getElementById("clickLabel").style.display="block")}function __removePlayerState(e){const t=playersListState.findIndex((t=>t.id===e));-1!==t&&playersListState.splice(t,1);const n=JSON.stringify(playersListState);localStorage.setItem("playersList",n)}function __getPlayerState(e,t){return playersListState[playersListState.findIndex((t=>t.id===e))][t]}function __setPlayerState(e,t,n,l=!1){playersListState[playersListState.findIndex((t=>t.id===e))][t]=n;const a=JSON.stringify(playersListState);localStorage.setItem("playersList",a)}async function toggleLoading(e=""){"none"===document.getElementById("loading").style.display?(document.getElementById("loading").innerHTML=e,document.getElementById("loading").removeAttribute("style")):document.getElementById("loading").style.display="none",await sleep(2e3)}function generateShortHash(){return Math.random().toString(36).slice(2).slice(0,6)}MYAPP.init=function(){const e=JSON.parse(localStorage.getItem("playersList"));if(e){const t=document.getElementById("playerRank").getElementsByTagName("tbody")[0];for(let n in e){playersListState.push(e[n]);let l=t.insertRow(t.rows.length),a=e[n].id,o=e[n].name,r=e[n].games;l.id=a,l.innerHTML=`\n\t\t\t\t  <td style="text-align: center;"><input class="renamePlayer" type="text" value="${o}" /></td>\n\t\t\t\t  <td style="text-align: center;"><input type="checkbox" name="wontPlayNext[]" value="${a}"></td>\n\t\t\t\t  <td style="text-align: center;"><input type="checkbox" name="willPlayNext[]" value="${a}"></td>\n\t\t\t\t  <td class="gamesPlayer">${r}</td>\n\t\t\t\t  <td><button class="removePlayer">Remover</button></td>\n\t\t\t\t`;let s=document.querySelectorAll(".removePlayer");for(let e=0;e<s.length;e++)s[e].addEventListener("click",(function(e){const t=this.closest("tr");__removePlayerState(t.id),t&&t.remove(),checkClickLabelMessage()}));let c=document.querySelectorAll(".renamePlayer");for(let e=0;e<c.length;e++)c[e].addEventListener("focusout",(function(e){__setPlayerState(this.closest("tr").id,"name",e.target.value)}))}checkClickLabelMessage(),document.getElementById("dummy2").click()}},document.getElementById("resetList").addEventListener("click",(function(e){confirm("Tem certeza que deseja zerar tudo?")&&(e.preventDefault(),localStorage.clear(),playersListState=[],document.querySelector("#playerRank tbody").innerHTML="",checkClickLabelMessage())})),document.getElementById("acceptTeams").addEventListener("click",(async function(e){e.preventDefault(),document.querySelectorAll("li.playing").length<1?alert("Não existem times sugeridos no momento"):(await toggleLoading("Atualizando ranking..."),document.querySelectorAll("li.playing").forEach((function(e){const t=e.id.split("-")[0];let n=__getPlayerState(t,"games")+1;__setPlayerState(t,"games",n),document.querySelector("#"+CSS.escape(t)+" td.gamesPlayer").innerHTML=n})),document.getElementById("dummy2").click(),document.querySelectorAll("input[type=checkbox]").forEach((e=>{e.checked=!1})),await toggleLoading())})),document.getElementById("buildRandomTeams").addEventListener("click",(async function(e){e.preventDefault(),document.getElementById("team1").replaceChildren(),document.getElementById("team2").replaceChildren(),document.getElementById("outs").replaceChildren();let t=document.getElementById("formation").selectedOptions[0].value.split("x"),n=parseInt(t[0])+parseInt(t[1]);if(playersListState.length<n)return void alert(`Para esta formação, número mínimo de jogadores: ${n}`);await toggleLoading("Combinando pessoas...");let l=[],a=[];document.querySelectorAll("input[name^=will]:checked").forEach((function(e){l.push(e.value)})),document.querySelectorAll("input[name^=wont]:checked").forEach((function(e){a.push(e.value)}));let o=[],r=[],s=[];for(;;){let e=[],n=Array.from(playersListState.map((e=>e.id)));for(let t=0;t<n.length;t++)a.includes(n[t])||e.push(n[t]);for(let t=0;t<20;t++)e=e.sort((()=>.5-Math.random()));o=e.splice(0,t[0]);for(let t=0;t<20;t++)e=e.sort((()=>.5-Math.random()));if(r=e.splice(0,t[1]),s=[...e,...a],0==l.length)break;if(0==s.filter((e=>l.includes(e))).length)break}document.getElementById("raffTeams").removeAttribute("style"),document.getElementById("raffOuts").removeAttribute("style");const c=document.getElementById("team1"),i=document.getElementById("team2"),d=document.getElementById("outs");o.forEach(((e,t)=>{const n=document.createElement("li");n.id=`${e}-playing`,n.className="playing",n.textContent=__getPlayerState(e,"name"),c.appendChild(n)})),r.forEach(((e,t)=>{const n=document.createElement("li");n.id=`${e}-playing`,n.className="playing",n.textContent=__getPlayerState(e,"name"),i.appendChild(n)})),s.forEach(((e,t)=>{const n=document.createElement("li");n.textContent=__getPlayerState(e,"name"),d.appendChild(n)})),await toggleLoading()})),document.getElementById("addPlayer").addEventListener("click",(function(e){e.preventDefault();const t=generateShortHash();playersListState.push({id:t,name:"$",games:0}),checkClickLabelMessage();const n=document.getElementById("playerRank").getElementsByTagName("tbody")[0];let l=n.insertRow(n.rows.length);l.id=t,l.innerHTML=`\n\t\t  <td style="text-align: center;"><input class="renamePlayer" type="text" /></td>\n\t\t  <td style="text-align: center;"><input type="checkbox" name="wontPlayNext[]" value="${t}"></td>\n\t\t  <td style="text-align: center;"><input type="checkbox" name="willPlayNext[]" value="${t}"></td>\n\t\t  <td class="gamesPlayer">0</td>\n\t\t  <td><button class="removePlayer">Remover</button></td>\n\t\t`;let a=document.querySelectorAll(".removePlayer");for(let e=0;e<a.length;e++)a[e].addEventListener("click",(function(e){const t=this.closest("tr");__removePlayerState(t.id),t&&t.remove(),checkClickLabelMessage()}));let o=document.querySelectorAll(".renamePlayer");for(let e=0;e<o.length;e++)o[e].addEventListener("focusout",(function(e){__setPlayerState(this.closest("tr").id,"name",e.target.value)}))}));const sleep=e=>new Promise((t=>setTimeout(t,e)));document.addEventListener("DOMContentLoaded",(function(e){MYAPP.init()}));</script>
